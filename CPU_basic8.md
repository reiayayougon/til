## 題８章データベース

### データ・ファイル、DBMS、プログラム
データベース・システムの構成要素
「データ・ファイル」、「DBMS」、「プログラム」(データベースを操作するためのプログラム)の３つ。

小規模なシステム
１台のPC上にデータ・ファイル、DBMS、プログラムが全て配置（スタンドアロン型システム）

中規模なシステム
１台のPCにデータ・ファイルを配置し、それをDBMSとプログラムが配置された複数台のPCから共有する（ファイル共有型システム）

大規模なシステム
１台のサーバーマシンにデータ・ファイル、DBMSを配置し、それをプログラムが配置された複数台のPCから利用（クライアント/サーバー型システム）

サーバーとクライアントの間がインターネットで接続されているなら「WEBシステム」となる
Webシステムでは、プログラムもサーバーに配置され、クイアントにはWebブラウザだけが配置されるのが一般的

## DBMSの特徴
### テーブルを分割して整理する正規化
正規化とは、テーブを複数に分け、ここのテーブルのリレーションシップを設定して(テーブル同士を結びづけて)データベースの構造を整理すること

正規化のポイント
一つのデーターベースの中に同じデータが重複して記憶されないようにすること

###テーブルを結び付ける主キーと外部キー
各テーブルのキー(主キー)
DBMSは主キーの値が同じレコードを登録しようとするとエラーにしてくれる
これはDBMSが備える、データ矛盾なく保つ機能の一つ

主キーの他に他のテーブルのキー（外部キー）

テーブル間のリレーションシップは、レコードとレコードを結びつける
レコードのリレーションシップの形態は、「1対1」「多対多」「1対多」のいずれかになるが、多対多とはなってなだめ
外部キーから主キーに結びつけることができないため
リレーションシップが多対多となってしまう場合は、２つのテーブルの間にもう一つのテーブルを追加し、２つの1対多に分ける(結合テーブル)

DBMSには「参照整合性」をチェックする機能がある
これも矛盾なく安全に保つ仕組みの一つ

### データの検索速度を向上させるインデックス
フィールドにインデックスを設定するとそのフィールドのためのインデックス・テーブルが自動的に作成
インデックス・テーブルはフィールドの値と、そのフィールドを持つレコードの位置を示すためのもの
ただ、インデックスを設定すると、テーブルにレコードが登録されるたびにインデックス・テーブルの更新処理が必要になる
検索速度が向上する代償として登録の速度が低下する
そのフィールドを対象として頻繁に検索が行われる場合にだけインデックスを設定するべき

### DBMSにCRUDを指示するSQL文

登録がCREATではなくINSERT
取得がREADではなくSELECT

### トランザクション制御もDBMSに任せられる

ユーザー視点で見たデータベースに対する処理のまとまり（トランザクション）
複数のSQL文の実行によって実現される
